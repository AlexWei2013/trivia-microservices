<div class="row">
	<h3>Users</h3>
	<table class="table table-striped">
		<tr>
			<th>Id</th>
			<th>Email</th>
			<th></th>
			<th></th>
		</tr>
		<tr ng-repeat="user in users">
			<td>{{user.id}}</td>
			<td>{{user.email}}</td>
			<td><a ng-click="editUser(user)" class="btn btn-small btn-primary">edit</a></td>
			<td><a ng-click="deleteUser(user)" class="btn btn-small btn-danger">delete</a></td>
		</tr>
	</table>
	<a ng-click="editNewUser()" class="btn btn-small">
		create new user
	</a>
</div>

<!-- Modal User Edit Form -->
<script type="text/ng-template" id="userEditModal.html">		
	<form ng-submit="editUserSubmit()">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<h4 class="modal-title">User Details</h4>
		</div>
		<div class="modal-body">
			<div class="form-group">
				<label for="editUserEmailTextInput">Email address</label> 
				<input id="editUserEmailTextInput" name="email" type="text" class="form-control" required ng-model="selectedUser.email" />
			</div>
			<label>Roles</label>
			<ul class="list-group">
  				<li ng-repeat="role in allRoles" class="list-group-item">
					<div class="checkbox">
    					<label>
      						<input type="checkbox" ng-checked="isRoleSelected(role)" ng-click="onRoleChecked($event, role)">{{role.name}}
    					</label>
  					</div>
				</li>
			</ul>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
			<button type="submit" class="btn btn-primary">Save</button>
		</div>
	</form>				
</script>
